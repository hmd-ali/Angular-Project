<div class="container">
    <div class="row form-group">
        <label for="bloodGroup">Select the blood group</label>
        <select class="form-control" name="bloodGroup" id="bloodGroup" [(ngModel)]="selectedGroup" (change)="selectGroup()">
            <option *ngFor="let bloodGroup of bloodGroups" [value]="bloodGroup">
                {{ bloodGroup }}
            </option>
        </select>
    </div>
    <table *ngIf="!isEmpty && donorList" class="table">
        <tr>
            <th>
                Blood group
            </th>
            <th>
                Address
            </th>
            <th>
                Email
            </th>
        </tr>
        <tr *ngFor="let donor of donorList">
            <td>
                {{ donor.bloodGroup }}
            </td>
            <td>
                {{ donor.address }}
            </td>
            <td>
                <button class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" (click)="updateReceiver(donor.email)">
                    {{ donor.email }}
                </button>
            </td>
        </tr>
    </table>
    <div *ngIf="isEmpty" class="alert-danger alert">
        No results found
    </div>
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header bg-danger">
              <h5 class="modal-title text-white" id="exampleModalLabel">New Message</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form>
                  <div class="input-group">
                      <label for="from" class="sr-only">Sender Email</label>
                      <div class="input-group-prepend">
                          <div class="input-group-text" style="width: 100px;">
                              From:
                          </div>
                      </div>
                      <input class="form-control" type="email" name="from" id="from" placeholder="Sender Email">
                  </div>
                  <div class="input-group">
                      <label for="to" class="sr-only">Receiver Email</label>
                      <div class="input-group-prepend">
                          <div class="input-group-text" style="width: 100px;">
                              To:
                          </div>
                      </div>
                      <input class="form-control" type="email" name="to" id="to" [value]="receiverEmail" readonly>
                  </div>
                  <div class="input-group">
                      <label class="sr-only" for="subject">Subject</label>
                      <div class="input-group-prepend">
                          <div class="input-group-text" style="width: 100px;">
                              Subject:
                          </div>
                      </div>
                      <input type="text" name="subject" id="sibject" class="form-control" placeholder="Subject">
                  </div>
                  <div class="form-group">
                      <label for="message">Message:</label>
                      <textarea class="form-control" name="message" id="message" rows="4"></textarea>
                  </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
              <button type="button" class="btn btn-danger text-white">Send</button>
            </div>
          </div>
        </div>
    </div>
</div>
